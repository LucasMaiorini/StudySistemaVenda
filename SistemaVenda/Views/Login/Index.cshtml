
@model SistemaVenda.Models.UsuarioViewModel;
@{
    ViewData["Title"] = "Login";
    Layout = null;
}
@section scripts{
    <partial name="_ValidationScriptsPartial" />
}
<head>
    <link rel="stylesheet" href="~/css/LoginIndex.css" />
</head>

<div class="wrapper fadeInDown">
    <div id="formContent">
        <div class="fadeIn first" />
        <img src="~/img/logo.png" id="icone" alt="Logo" />
    </div>

    <!-- Login Form -->
    <form asp-controller="Login" asp-action="ValidaLogin" method="post">
        <input type="email" asp-for="Email" class="fadeIn second" placeholder="E-mail" />
        <span asp-validation-for="Email" class="text-danger"></span>

        <input type="password" asp-for="Senha" value="@Model.Senha" class="fadeIn third" placeholder="Senha" />
        <span asp-validation-for="Senha" class="text-danger"></span>


        <input type="submit" class="fadeIn fourth" value="Log In">
        @* Apresenta o ViewData definido na controller *@
        <span class="text-danger">@ViewData["ErroLogin"]</span>
    </form>

    <!-- Remind Passowrd -->
    <div id="formFooter">
        <a class="underlineHover" href="#">Esqueci minha senha! |</a>
        <a class="underlineHover" href="#" data-toggle="modal" data-target="#exampleModal">Cadastre-se!</a>
    </div>
</div>
</div>

@*<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="churros">Cadastrar</button>*@

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">

    <div class="modal-dialog" role="document">
        <div class="wrapper fadeInDown">
            <div class="modal-content formContent">
                <div class="fadeIn first modal-header">
                    <img src="~/img/logo.png" id="icone" alt="Logo" />

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form asp-controller="Login" asp-action="Index" method="post">
                        <input type="hidden" asp-for="Codigo" value="@Model.Codigo" />
                        <div class="form-group fadeIn first">
                            <input type="text" asp-for="Nome" value="@Model.Nome" placeholder="Nome" onkeydown="myFunction()"
                                   required id="nomeCadastro"/>
                            <span id="spanNome" class="text-danger"></span>
                        </div>
                        <div class="form-group fadeIn second">
                            <input type="text" asp-for="Email" value="@Model.Email" placeholder="E-mail" />
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>
                        <div class="form-group fadeIn third">
                            <input type="password" asp-for="Senha" value="@Model.Senha" placeholder="Senha" />
                            <span asp-validation-for="Senha" class="text-danger"></span>
                        </div>
                        <input type="submit" class="fadeIn fourth" value="Cadastrar" onclick="myFunction()">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function myFunction() {
        var inpObj = document.getElementById("nomeCadastro");
        if (!inpObj.checkValidity() || inpObj.value.length == 0) {
            document.getElementById("spanNome")
                .innerHTML = 'Informe o Nome';
        } else {
            document.getElementById("spanNome")
                .innerHTML = "";
        }
    }
</script> 